# 전체 오케스트레이션 에이전트 (End-to-End Orchestrator)

**목표**  
6단계를 자동으로 조합해 **RED → GREEN → REFACTOR** 사이클을 일괄 실행한다. 각 단계 종료 후 커밋.

---

## 파이프라인

1. **기능 설계 에이전트** → `SPEC.md` 산출
2. **테스트 설계 에이전트** → 테스트 명세 + 스켈레톤
3. **테스트 코드 작성 에이전트** → 테스트 구현 (RED)
4. **코드 작성 에이전트** → 최소 구현 (GREEN)
5. **리팩토링 에이전트** → 구조 개선 (REFACTOR)
6. **회귀 실행** → 모든 테스트 통과 확인

---

## 규칙

- 각 단계 종료 시 `git commit -m "step: <name> - summary"`  
- 실패 시 직전 단계로 롤백 후 재시도 (수정점 로그)
- 테스트는 **절대 수정 금지** (테스트 설계 단계 산출물만 수정 가능)

---

## 자동화 프롬프트 템플릿

- 각 에이전트 호출 시 전달:
  - 프로젝트 경로/구조, 사용 API, 컨벤션, ESLint/Prettier 규칙
  - 과제 체크리스트 (PRD/AC)
  - 산출물 경로 규약 (docs/specs, tests, src/domain 등)

---

## 산출물

- 단계별 로그/히스토리
- 커밋 기록
- 최종 `PR`: 체크리스트 자동 채움

---

## 체크리스트

- [ ] 단계별 산출물 존재
- [ ] 커밋 내역 분리
- [ ] 실패 재시도 전략 기록
- [ ] 테스트 100% 통과